estado_inicial(e([  v(pos(1, 1, 1) ,[1,2,3,4,5,6,7,8,9], _),
                    v(pos(1, 3, 1) ,[1,2,3,4,5,6,7,8,9], _),
                    v(pos(1, 4, 2) ,[1,2,3,4,5,6,7,8,9], _),
                    v(pos(1, 5, 2) ,[1,2,3,4,5,6,7,8,9], _),
                    v(pos(1, 7, 3) ,[1,2,3,4,5,6,7,8,9], _),
                    v(pos(2, 1, 1) ,[1,2,3,4,5,6,7,8,9], _),
                    v(pos(2, 2, 1) ,[1,2,3,4,5,6,7,8,9], _),
                    v(pos(2, 3, 1) ,[1,2,3,4,5,6,7,8,9], _),
                    v(pos(2, 5, 2) ,[1,2,3,4,5,6,7,8,9], _),
                    v(pos(2, 7, 3) ,[1,2,3,4,5,6,7,8,9], _),
                    v(pos(2, 8, 3) ,[1,2,3,4,5,6,7,8,9], _),
                    v(pos(2, 9, 3) ,[1,2,3,4,5,6,7,8,9], _),
                    v(pos(3, 2, 1) ,[1,2,3,4,5,6,7,8,9], _),
                    v(pos(3, 3, 1) ,[1,2,3,4,5,6,7,8,9], _),
                    v(pos(3, 4, 2) ,[1,2,3,4,5,6,7,8,9], _),
                    v(pos(3, 5, 2) ,[1,2,3,4,5,6,7,8,9], _),
                    v(pos(3, 6, 2) ,[1,2,3,4,5,6,7,8,9], _),
                    v(pos(3, 8, 3) ,[1,2,3,4,5,6,7,8,9], _),
                    v(pos(4, 1, 4) ,[1,2,3,4,5,6,7,8,9], _),
                    v(pos(4, 2, 4) ,[1,2,3,4,5,6,7,8,9], _),
                    v(pos(4, 3, 4) ,[1,2,3,4,5,6,7,8,9], _),
                    v(pos(4, 4, 5) ,[1,2,3,4,5,6,7,8,9], _),
                    v(pos(4, 5, 5) ,[1,2,3,4,5,6,7,8,9], _),
                    v(pos(4, 7, 6) ,[1,2,3,4,5,6,7,8,9], _),
                    v(pos(4, 8, 6) ,[1,2,3,4,5,6,7,8,9], _),
                    v(pos(4, 9, 6) ,[1,2,3,4,5,6,7,8,9], _),
                    v(pos(5, 1, 4) ,[1,2,3,4,5,6,7,8,9], _),
                    v(pos(5, 2, 4) ,[1,2,3,4,5,6,7,8,9], _),
                    v(pos(5, 3, 4) ,[1,2,3,4,5,6,7,8,9], _),
                    v(pos(5, 4, 5) ,[1,2,3,4,5,6,7,8,9], _),
                    v(pos(5, 7, 6) ,[1,2,3,4,5,6,7,8,9], _),
                    v(pos(6, 2, 4) ,[1,2,3,4,5,6,7,8,9], _),
                    v(pos(6, 3, 4) ,[1,2,3,4,5,6,7,8,9], _),
                    v(pos(6, 5, 5) ,[1,2,3,4,5,6,7,8,9], _),
                    v(pos(6, 6, 5) ,[1,2,3,4,5,6,7,8,9], _),
                    v(pos(6, 7, 6) ,[1,2,3,4,5,6,7,8,9], _),
                    v(pos(6, 8, 6) ,[1,2,3,4,5,6,7,8,9], _),
                    v(pos(6, 9, 6) ,[1,2,3,4,5,6,7,8,9], _),
                    v(pos(7, 1, 7) ,[1,2,3,4,5,6,7,8,9], _),
                    v(pos(7, 2, 7) ,[1,2,3,4,5,6,7,8,9], _),
                    v(pos(7, 3, 7) ,[1,2,3,4,5,6,7,8,9], _),
                    v(pos(7, 5, 8) ,[1,2,3,4,5,6,7,8,9], _),
                    v(pos(7, 6, 8) ,[1,2,3,4,5,6,7,8,9], _),
                    v(pos(7, 7, 9) ,[1,2,3,4,5,6,7,8,9], _),
                    v(pos(7, 8, 9) ,[1,2,3,4,5,6,7,8,9], _),
                    v(pos(7, 9, 9) ,[1,2,3,4,5,6,7,8,9], _),
                    v(pos(8, 3, 7) ,[1,2,3,4,5,6,7,8,9], _),
                    v(pos(8, 4, 8) ,[1,2,3,4,5,6,7,8,9], _),
                    v(pos(8, 6, 8) ,[1,2,3,4,5,6,7,8,9], _),
                    v(pos(8, 7, 9) ,[1,2,3,4,5,6,7,8,9], _),
                    v(pos(8, 9, 9) ,[1,2,3,4,5,6,7,8,9], _),
                    v(pos(9, 1, 7) ,[1,2,3,4,5,6,7,8,9], _),
                    v(pos(9, 2, 7) ,[1,2,3,4,5,6,7,8,9], _),
                    v(pos(9, 4, 8) ,[1,2,3,4,5,6,7,8,9], _),
                    v(pos(9, 5, 8) ,[1,2,3,4,5,6,7,8,9], _),
                    v(pos(9, 7, 9) ,[1,2,3,4,5,6,7,8,9], _),
                    v(pos(9, 8, 9) ,[1,2,3,4,5,6,7,8,9], _),
                    v(pos(9, 9, 9) ,[1,2,3,4,5,6,7,8,9], _)],
                   [v(pos(1, 2, 1) ,[1,2,3,4,5,6,7,8,9], 1),
                    v(pos(1, 6, 2) ,[1,2,3,4,5,6,7,8,9], 8),
                    v(pos(1, 8, 3) ,[1,2,3,4,5,6,7,8,9], 7),
                    v(pos(1, 9, 3) ,[1,2,3,4,5,6,7,8,9], 3),
                    v(pos(2, 4, 2) ,[1,2,3,4,5,6,7,8,9], 5),
                    v(pos(2, 6, 2) ,[1,2,3,4,5,6,7,8,9], 9),
                    v(pos(3, 1, 1) ,[1,2,3,4,5,6,7,8,9], 7),
                    v(pos(3, 7, 3) ,[1,2,3,4,5,6,7,8,9], 9),
                    v(pos(3, 9, 3) ,[1,2,3,4,5,6,7,8,9], 4),
                    v(pos(4, 6, 5) ,[1,2,3,4,5,6,7,8,9], 4),
                    v(pos(5, 5, 5) ,[1,2,3,4,5,6,7,8,9], 3),
                    v(pos(5, 6, 5) ,[1,2,3,4,5,6,7,8,9], 5),
                    v(pos(5, 8, 6) ,[1,2,3,4,5,6,7,8,9], 1),
                    v(pos(5, 9, 6) ,[1,2,3,4,5,6,7,8,9], 8),
                    v(pos(6, 1, 4) ,[1,2,3,4,5,6,7,8,9], 8),
                    v(pos(6, 4, 5) ,[1,2,3,4,5,6,7,8,9], 9),
                    v(pos(7, 4, 8) ,[1,2,3,4,5,6,7,8,9], 7),
                    v(pos(8, 1, 7) ,[1,2,3,4,5,6,7,8,9], 2),
                    v(pos(8, 2, 7) ,[1,2,3,4,5,6,7,8,9], 6),
                    v(pos(8, 5, 8) ,[1,2,3,4,5,6,7,8,9], 4),
                    v(pos(8, 8, 9) ,[1,2,3,4,5,6,7,8,9], 3),
                    v(pos(9, 3, 7) ,[1,2,3,4,5,6,7,8,9], 5),
                    v(pos(9, 6, 8) ,[1,2,3,4,5,6,7,8,9], 3)
                   ])).

%----------------------------------------------------------------------------------------------
% Restrições

ve_restricoes(E):-  ver_linhas(E), 
                    ver_colunas(E),
                    ver_quadrantes(E).

%----------------------------------------------------------------------------------------------
% Verificação de linhas

ver_linhas(e(_,[v(pos(X,_,_),_, V)|R])) :-  findall(V1, member(v(pos(X,_,_),_,V1), R), L),
                                            dif([V|L]).
%----------------------------------------------------------------------------------------------
% Verificação de colunas

ver_colunas(e(_,[v(pos(_,Y, _), _, V)|R])) :- findall(V1, member(v(pos(_,Y,_),_,V1), R), L),
                                              dif([V|L]).

%----------------------------------------------------------------------------------------------
% Verificação dos ver_quadrantes

ver_quadrantes(e(_,[v(pos(_,_,Q), _, V)|R])) :- findall(V1, member(v(pos(_,_,Q),_,V1), R), L),
                                                dif([V|L]).

%----------------------------------------------------------------------------------------------
% Função que verifica se os valores são diferentes

dif([]).
dif([X|R]) :- \+ member(X,R), dif(R).

%----------------------------------------------------------------------------------------------
% Tamanho do tabuleiro

tamanho_tabuleiro(9).

%----------------------------------------------------------------------------------------------
% Print do tabuleiro

esc(L):-  sort(L, L1),
          esc_a(L1),
          nl.

esc_a(L):-  tamanho_tabuleiro(S),
            esc_l(L, 1, S).

esc_l([H], S, S):-  H = v(_,_,X),
                    write(X),nl.

esc_l([H|T], S, S):-  H = v(_,_,X), 
                      write(X), 
                      nl,
                      esc_l(T, 1, S).

esc_l([H|T], I, S):-  I<S,
                      I2 is I+1,
                      H = v(_,_,X), 
                      write(X),
                      write(' '),
                      esc_l(T, I2, S).

%----------------------------------------------------------------------------------------------
